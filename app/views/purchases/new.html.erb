<style>
.sign_in .col-md-6:nth-child(2) {
  margin-top:0px;
  padding:0px;
}
input[type=checkbox] {
    display: none;
}
.pd_mg {
  margin-top:0px !important;
  padding:0px !important;
}

input[type=checkbox] + label{
    display: inline-block;
    cursor: pointer;
    position: relative;
    padding-left: 35px;
    margin-right: 15px;
    line-height: 20px;
    font-size: 13px;
}

input[type=checkbox]+ label:before {
    top: 0px;
    content: "";
    display: inline-block;

    width: 20px;
    height: 20px;

    margin-right: 10px;
    position: absolute;
    left: 0;
    bottom: 1px;
    background-color: #fff;
    background-image: none;
    border: 1px solid #ccc;
    border-radius: 5px;
    -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,0.075);
    box-shadow: inset 0 1px 1px rgba(0,0,0,0.075);
    -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
    -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
    transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
}
input[type=checkbox]:checked + label:before {

    content: "\2713";  /* 체크모양 */
    text-shadow: 1px 1px 1px rgba(0, 0, 0, .2);
    font-size: 15px;
    font-weight:800;
    color: #fff;
    background:#212121;
    text-align: center;
    line-height: 20px;

}

</style>

<div class="container sign_up purc_ready">
  <div class="row">
    <div class="col-md-12 mb_line_break_reverse">
      <h3 class="header header_sub">주문 / 결제</h3>
    </div>
    <div class="col-md-12">
      <div class="col-md-12">
        <h3 class="header">주문 상품 확인</h3>
      </div>
      <div class="col-md-12" id="header">
        <!-- desktop -->
        <div class="mb_line_break_reverse">
          <table class="table table-hover tb_purc">
            <thead>
              <tr> <th>&nbsp;</th> <th class="tb_purc_name">상품명</th> <th class="tb_purc_shipping">배송비</th> <th class="tb_purc_price">상품 가격</th> </tr>
            </thead>
            <tbody>
              <tr>
                <th class="tb_purc_image" scope="row"> <%= image_tag('product_thmb_6.jpg', style: "width:100px;height:100px;") %> </th>
                <td class="tb_purc_name"><h5>VENDREDI - BLACK BROWN</h5><p>옵션 : basic</p></td>
                <td class="tb_purc_shipping">2500 원</td>
                <td class="tb_purc_price">11000 원</td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- desktop -->

        <!-- mb -->
        <div class="mb_line_break">
          <table class="table table-striped table-hover">
            <thead>
              <tr> <th>&nbsp;</th> <th>&nbsp;</th> </tr>
            </thead>
            <tbody>
              <tr> <th scope="row"> <%= image_tag('product_thmb_6.jpg', style: "width:75px;height:75px;") %> </th> <td><h5>VENDREDI - BLACK BROWN</h5><p class="help-block">옵션 : basic<br> 11000 원&nbsp;&nbsp;2500 원</p></td> </tr>
            </tbody>
          </table>
        </div>
        <!-- mb -->
      </div><!-- col-md-12 -->

      <div class="col-md-7 no-gap">
        <div class="col-md-12" style="padding: 0px 15px; margin-bottom: 10px;">
          <h3 class="header">배송 정보</h3>
        </div>
        <div class="col-md-12">
          <div class="col-md-12">
            <%= render "purchases/address_book" %>
          </div>
        </div><!-- 배송 정보 -->

        <div class="col-md-12 mb_line_break_reverse">
          <h3 class="header">결제 정보</h3>
        </div>
        <div class="col-md-12 pay_method" style="padding-left:15px;padding-right:15px;">
          <p>*결제 수단</p>
          <div class="pay_method_box pay_method_card pay_method_selected">
            <a href="#" onclick="alert('신용카드가 선택되었습니다')">
            <%= image_tag "pay_card_d" %>
            <p>신용 카드</p>
            </a>
          </div>

          <div class="pay_method_box pay_method_vbank">
            <a href="#" onclick="alert('무통장입급이 선택되었습니다')">
            <%= image_tag "pay_account_d" %>
            <p>무통장 입금</p>
            </a>
          </div>

          <div class="pay_method_box pay_method_trans">
            <a href="#" onclick="alert('계좌이체가 선택되었습니다')">
            <%= image_tag "pay_withdraw_d" %>
            <p>계좌 이체</p>
            </a>
          </div>

          <div class="pay_method_box pay_method_phone">
            <a href="#" onclick="alert('휴대폰결제가 선택되었습니다.')">
            <%= image_tag "pay_mobile_d" %>
            <p>휴대폰 결제</p>
            </a>
          </div>
        </div>
      </div><!-- col-md-7 -->

      <div class="col-md-5">
        <div id="sidebar">
          <div class="col-md-12 pay_info">
            <h3 class="header header_main">결제 금액 정보</h3>
            <p class="header_sub">총 상품 금액 <span>11000 원</span></p>
            <p class="header_sub">배송비 <span>2500 원</span></p>
            <p class="header_sub">할인 <span>-0 원</span></p>
            <hr>
            <p class="header_sub">최종결제금액 <span>13500 원</span></p>
          </div>

          <div class="col-md-12 pay_info">
            <div class="col-md-12 no-gap">
              <div class="checkbox">
                <input type="checkbox" id="agreementCheckbox" class="checkbox-style"/>
                <label for="agreementCheckbox">구매조건 확인 및 결제진행에 동의합니다. </label>
              </div>
              <p class="help-block" style="font-size:10px;">구매하신 상품 배송 및 주문처리를 위해 개인정보를 제공받는 판매자 : Vivant, <b>Todo 판매자들 모두 나오도록변경</b></p>
            </div>
          </div>
          <div class="col-md-12 text-center pay_go">
            <%= button_tag "결제 진행", class: "btn session_btn_black", id: "buyBtn" %>
          </div>
        </div>

      </div><!-- col-md-5 -->
    </div><!-- col-md-12 -->
  </div><!-- .row -->
</div>

<script>
/*
//사이드바 고정
$(document).ready(function() {
  var top = $('#sidebar').offset().top - parseFloat($('#sidebar').css('marginTop').replace(/auto/, 0));
  // 사이드바 위에서 길이
  var footTop = $('footer').offset().top - parseFloat($('footer').css('marginTop').replace(/auto/, 0));
  // 푸터 위에서 길이

  $(window).scroll(function() {
    var x = parseInt($(this).width());
    if (x > 992 ) {
        InitSidebar();
    }

  });

  function InitSidebar() {
    var maxY = footTop - $('#sidebar').outerHeight() - 85;
    // 푸터 위에서 길이 - 사이드바 자체 길이
    var y = $(this).scrollTop(); //위에서 현재 스크롤 길이
    if ( y >= top - $('#header').offset().top + $('#header').outerHeight())  {
        if (y < maxY) {
            $('#sidebar').addClass('fixed').removeAttr('style');
            $('.pay_info, .pay_go').removeClass('col-md-12').addClass('col-md-9');
        } else {
            $('#sidebar').removeClass('fixed').css({
                position: 'absolute',
                top: (maxY - top) + 'px'
            });
            $('.pay_info, .pay_go').removeClass('col-md-9').addClass('col-md-12');
        }
    } else {
        $('#sidebar').removeClass('fixed');
        $('.pay_info, .pay_go').removeClass('col-md-9').addClass('col-md-12');
    }
  }


});
*/
</script>


<script type="text/javascript">
  $(document).on('click', '#buyBtn', function() {
    if ($('#agreementCheckbox').prop('checked')) {
          alert('구매감사드립니다. 곧 메인화면으로 이동합니다');
          window.location.href = '/';

    } else {
      alert('구매조건 확인 및 결제진행에 동의하셔야 합니다');
      $('#agreementCheckbox').next().addClass('notchecked');
    }
  })
</script>

<script type="text/javascript">
  $(document).on('click', '#agreementCheckbox', function() {
    $(this).next().removeClass('notchecked');
  });

  $(document).on('click', '.pay_method_box', function() {
    var payMethod = 'card';

    if ($(this).hasClass('pay_method_card')) {
      payMethod = 'card';
    } else if ($(this).hasClass('pay_method_vbank')) {
      payMethod = 'vbank';
    } else if ($(this).hasClass('pay_method_trans')) {
      payMethod = 'trans';
    } else if ($(this).hasClass('pay_method_phone')) {
      payMethod = 'phone';
    }

    $('#pay_method').val(payMethod);

    $('.pay_method_box').removeClass('pay_method_selected');
    $(this).addClass('pay_method_selected');
  });
</script>
